{% extends 'base.html' %}

{% block style%}
    {% include 'inc-style.html' %}
{% endblock %}

{% block menu %}
    {% include 'inc-menu.html' %}
{% endblock %}

{% block content %}
<div class="users">
    <div>
        <h1>Список учителей:</h1>
        <ul>
          {% for teacher in object_list_teacher %}
          <li>{{ teacher.name }} {{ teacher.last_name }}
              {% if teacher.post %}
                ({{ teacher.post }})
              {% endif %}
              ({{ teacher.email }})</li>
          {% endfor %}
        </ul>
</div>
    <dic>
        <h1>Список студентов:</h1>
        <ul>
          {% for student in object_list_student %}
          <li>{{ student.name }} {{ student.last_name }} ({{ student.email }})</li>
          {% endfor %}
        </ul>
</dic>
</div>

        <!-- Форма для создания пользователя -->

<form class="form_users" method="POST">
    <h1>Создать пользователя</h1>
  <label for="name">Имя:</label>
  <input type="text" name="name" required><br>

  <label for="last_name">Фамилия:</label>
  <input type="text" name="last_name" required><br>

  <label for="email">Email:</label>
  <input type="email" name="email" required><br>

  <label for="type_user">Тип пользователя:</label>
  <select name="type_user" id="type_user" required>
    <option value="teacher">Учитель</option>
    <option value="student">Студент</option>
  </select><br>

  <div id="post_field" style="display: none;">
    <label for="post">Должность:</label>
    <input type="text" name="post"><br>
  </div>

  <input type="submit" value="Создать пользователя">
</form>

<script>
  const typeUserSelect = document.getElementById('type_user');
  const postField = document.getElementById('post_field');

  typeUserSelect.addEventListener('change', function() {
    if (typeUserSelect.value === 'teacher') {
      postField.style.display = 'block';
    } else {
      postField.style.display = 'none';
    }
  });
</script>


{% endblock %}

{% block footer %}
    {% include 'inc-footer.html' %}
{% endblock %}